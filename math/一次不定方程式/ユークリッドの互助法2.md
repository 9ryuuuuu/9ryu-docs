
# なぜ余りが 0 のときに gcd(a, b) = b となるのか

ユークリッドの互除法では、次の手順で最大公約数 (gcd) を求めます:

1. r = a mod b を計算する。
2. もし r = 0 なら、gcd(a, b) は b である。
3. もし r ≠ 0 なら、gcd(a, b) = gcd(b, r) として手順を繰り返す。

ここで「r = 0」の場合、なぜ gcd(a, b) = b で計算を終了するのかを詳しく説明します。

---

## 1. 割り算の定義

整数 a を b で割ると、次のように書けます:

$$
a = bq + r \quad (0 \le r < b)
$$

ここで q は商、r は余りです。r が 0 の場合、a は b の倍数であり、

$$
a = bq
$$

となります。

---

## 2. 共通の約数の性質

もし r = 0 であれば、a = bq となるため、a と b の共通約数は b の約数と一致します。  
このとき、すでに b は a を割り切るので、b 自体が a と b の**最大の共通約数**となります。

具体的には、
- b は明らかに b の約数です。
- a は b の倍数なので、a の約数は b の約数も含む形になります。
- よって、a と b の共通約数の中で最も大きいものは b そのものであり、

$$
\gcd(a, b) = b
$$

となります。

---

## 3. ユークリッドの互除法の終了条件

ユークリッドの互除法は、再帰的に

$$
\gcd(a, b) = \gcd(b, a \mod b)
$$

という関係を利用して計算を進めます。  
このプロセスを繰り返すと、最終的に余り r が 0 になる瞬間が訪れます。  
その時の除数 b（最新の b の値）は、すでにその時点で a が b の倍数となっているため、

$$
\gcd(a, b) = b
$$

となり、これ以上計算を続ける必要はなく、求めるべき最大公約数が決定されます。

---

## 4. まとめ

- **割り算の定義から：**  
  a = bq + 0 となるとき、a は b の倍数であり、b は a を完全に割り切ります。

- **共通の約数の観点から：**  
  a と b の共通約数の中で最大のものは b となるため、$\gcd(a, b) = b$ です。

- **アルゴリズムの終了条件：**  
  ユークリッドの互除法は、余りが 0 になるまで再帰的に計算を続け、余りが 0 になったときの除数 b が最大公約数となるため、計算を終了します。

このようにして、余りが 0 になったときに gcd(a, b) = b となる理由が説明できます.
